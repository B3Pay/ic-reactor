<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Agent | ic-reactor</title><link rel="icon" href="../assets/favicon.png" type="image/png"/><meta name="description" content="A library for seamless communication between Internet Computer Actors and the frontend."/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>console.log(`Loaded ${location.href}`)</script><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">ic-reactor</a><div id="tsd-toolbar-links"><a href="https://github.com/B3Pay/ic-reactor/tree/main/examples">Example</a><a href="https://github.com/B3Pay/ic-reactor">GitHub</a></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="../modules/react.html">react</a></li><li><a href="../modules/react.utils.html">utils</a></li><li><a href="../modules/react.utils.agent.html">agent</a></li><li><a href="" aria-current="page">Agent</a></li></ul><h1>Interface Agent</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>An Agent able to make calls and queries to a Replica.</p>
</div><div class="tsd-comment tsd-typography"></div></section><div class="tsd-signature"><span class="tsd-signature-keyword">interface</span> <span class="tsd-kind-interface">Agent</span> <span class="tsd-signature-symbol">{</span><br/>    <a class="tsd-kind-property" href="#rootkey">rootKey</a><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" class="tsd-signature-type external" target="_blank">Uint8Array</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ArrayBufferLike</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-call-signature" href="#getprincipal-1">getPrincipal</a><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="tsd-signature-type external" target="_blank">Promise</a><span class="tsd-signature-symbol">&lt;</span><a href="../modules/react.types.html" class="tsd-signature-type tsd-kind-namespace">types</a><span class="tsd-signature-symbol">.</span><a href="react.types.Principal.html" class="tsd-signature-type tsd-kind-interface">Principal</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-call-signature" href="#createreadstaterequest-1">createReadStateRequest</a><span class="tsd-signature-symbol">(</span><br/>        <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">:</span> <a href="../modules/react.utils.html" class="tsd-signature-type tsd-kind-namespace">utils</a><span class="tsd-signature-symbol">.</span><a href="../modules/react.utils.agent.html" class="tsd-signature-type tsd-kind-namespace">agent</a><span class="tsd-signature-symbol">.</span><a href="react.utils.agent.ReadStateOptions.html" class="tsd-signature-type tsd-kind-interface">ReadStateOptions</a><span class="tsd-signature-symbol">,</span><br/>        <span class="tsd-kind-parameter">identity</span><span class="tsd-signature-symbol">?:</span> <a href="../modules/react.types.html" class="tsd-signature-type tsd-kind-namespace">types</a><span class="tsd-signature-symbol">.</span><a href="react.types.Identity.html" class="tsd-signature-type tsd-kind-interface">Identity</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="tsd-signature-type external" target="_blank">Promise</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-call-signature" href="#readstate-1">readState</a><span class="tsd-signature-symbol">(</span><br/>        <span class="tsd-kind-parameter">effectiveCanisterId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">|</span> <a href="../modules/react.types.html" class="tsd-signature-type tsd-kind-namespace">types</a><span class="tsd-signature-symbol">.</span><a href="react.types.Principal.html" class="tsd-signature-type tsd-kind-interface">Principal</a><span class="tsd-signature-symbol">,</span><br/>        <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">:</span> <a href="../modules/react.utils.html" class="tsd-signature-type tsd-kind-namespace">utils</a><span class="tsd-signature-symbol">.</span><a href="../modules/react.utils.agent.html" class="tsd-signature-type tsd-kind-namespace">agent</a><span class="tsd-signature-symbol">.</span><a href="react.utils.agent.ReadStateOptions.html" class="tsd-signature-type tsd-kind-interface">ReadStateOptions</a><span class="tsd-signature-symbol">,</span><br/>        <span class="tsd-kind-parameter">identity</span><span class="tsd-signature-symbol">?:</span> <a href="../modules/react.types.html" class="tsd-signature-type tsd-kind-namespace">types</a><span class="tsd-signature-symbol">.</span><a href="react.types.Identity.html" class="tsd-signature-type tsd-kind-interface">Identity</a><span class="tsd-signature-symbol">,</span><br/>        <span class="tsd-kind-parameter">request</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="tsd-signature-type external" target="_blank">Promise</a><span class="tsd-signature-symbol">&lt;</span><a href="../modules/react.utils.html" class="tsd-signature-type tsd-kind-namespace">utils</a><span class="tsd-signature-symbol">.</span><a href="../modules/react.utils.agent.html" class="tsd-signature-type tsd-kind-namespace">agent</a><span class="tsd-signature-symbol">.</span><a href="react.utils.agent.ReadStateResponse.html" class="tsd-signature-type tsd-kind-interface">ReadStateResponse</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-call-signature" href="#call-1">call</a><span class="tsd-signature-symbol">(</span><br/>        <span class="tsd-kind-parameter">canisterId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">|</span> <a href="../modules/react.types.html" class="tsd-signature-type tsd-kind-namespace">types</a><span class="tsd-signature-symbol">.</span><a href="react.types.Principal.html" class="tsd-signature-type tsd-kind-interface">Principal</a><span class="tsd-signature-symbol">,</span><br/>        <span class="tsd-kind-parameter">fields</span><span class="tsd-signature-symbol">:</span> <a href="../modules/react.utils.html" class="tsd-signature-type tsd-kind-namespace">utils</a><span class="tsd-signature-symbol">.</span><a href="../modules/react.utils.agent.html" class="tsd-signature-type tsd-kind-namespace">agent</a><span class="tsd-signature-symbol">.</span><a href="react.utils.agent.CallOptions.html" class="tsd-signature-type tsd-kind-interface">CallOptions</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="tsd-signature-type external" target="_blank">Promise</a><span class="tsd-signature-symbol">&lt;</span><a href="../modules/react.utils.html" class="tsd-signature-type tsd-kind-namespace">utils</a><span class="tsd-signature-symbol">.</span><a href="../modules/react.utils.agent.html" class="tsd-signature-type tsd-kind-namespace">agent</a><span class="tsd-signature-symbol">.</span><a href="react.utils.agent.SubmitResponse.html" class="tsd-signature-type tsd-kind-interface">SubmitResponse</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-call-signature" href="#status-1">status</a><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="tsd-signature-type external" target="_blank">Promise</a><span class="tsd-signature-symbol">&lt;</span><a href="../modules/react.utils.html" class="tsd-signature-type tsd-kind-namespace">utils</a><span class="tsd-signature-symbol">.</span><a href="../modules/react.utils.candid.html" class="tsd-signature-type tsd-kind-namespace">candid</a><span class="tsd-signature-symbol">.</span><a href="react.utils.candid.JsonObject.html" class="tsd-signature-type tsd-kind-interface">JsonObject</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-call-signature" href="#query-1">query</a><span class="tsd-signature-symbol">(</span><br/>        <span class="tsd-kind-parameter">canisterId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">|</span> <a href="../modules/react.types.html" class="tsd-signature-type tsd-kind-namespace">types</a><span class="tsd-signature-symbol">.</span><a href="react.types.Principal.html" class="tsd-signature-type tsd-kind-interface">Principal</a><span class="tsd-signature-symbol">,</span><br/>        <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">:</span> <a href="../modules/react.utils.html" class="tsd-signature-type tsd-kind-namespace">utils</a><span class="tsd-signature-symbol">.</span><a href="../modules/react.utils.agent.html" class="tsd-signature-type tsd-kind-namespace">agent</a><span class="tsd-signature-symbol">.</span><a href="react.utils.agent.QueryFields.html" class="tsd-signature-type tsd-kind-interface">QueryFields</a><span class="tsd-signature-symbol">,</span><br/>        <span class="tsd-kind-parameter">identity</span><span class="tsd-signature-symbol">?:</span> <a href="../modules/react.types.html" class="tsd-signature-type tsd-kind-namespace">types</a><span class="tsd-signature-symbol">.</span><a href="react.types.Identity.html" class="tsd-signature-type tsd-kind-interface">Identity</a> <span class="tsd-signature-symbol">|</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="tsd-signature-type external" target="_blank">Promise</a><span class="tsd-signature-symbol">&lt;</span><a href="../modules/react.types.html" class="tsd-signature-type tsd-kind-namespace">types</a><span class="tsd-signature-symbol">.</span><a href="react.types.Identity.html" class="tsd-signature-type tsd-kind-interface">Identity</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="tsd-signature-type external" target="_blank">Promise</a><span class="tsd-signature-symbol">&lt;</span><a href="../modules/react.utils.html" class="tsd-signature-type tsd-kind-namespace">utils</a><span class="tsd-signature-symbol">.</span><a href="../modules/react.utils.agent.html" class="tsd-signature-type tsd-kind-namespace">agent</a><span class="tsd-signature-symbol">.</span><a href="../types/react.utils.agent.ApiQueryResponse.html" class="tsd-signature-type tsd-kind-type-alias">ApiQueryResponse</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-call-signature" href="#fetchrootkey-1">fetchRootKey</a><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="tsd-signature-type external" target="_blank">Promise</a><span class="tsd-signature-symbol">&lt;</span><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" class="tsd-signature-type external" target="_blank">Uint8Array</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ArrayBufferLike</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-call-signature" href="#invalidateidentity-1">invalidateIdentity</a><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">;</span><br/>    <a class="tsd-kind-call-signature" href="#replaceidentity-1">replaceIdentity</a><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">identity</span><span class="tsd-signature-symbol">:</span> <a href="../modules/react.types.html" class="tsd-signature-type tsd-kind-namespace">types</a><span class="tsd-signature-symbol">.</span><a href="react.types.Identity.html" class="tsd-signature-type tsd-kind-interface">Identity</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">;</span><br/><span class="tsd-signature-symbol">}</span></div><section class="tsd-panel"><h4>Implemented by</h4><ul class="tsd-hierarchy"><li><a href="../modules/react.types.html" class="tsd-signature-type tsd-kind-namespace">types</a><span class="tsd-signature-symbol">.</span><a href="react.types.HttpAgent.html" class="tsd-signature-type tsd-kind-interface">HttpAgent</a></li></ul></section><aside class="tsd-sources"><ul><li>Defined in node_modules/@dfinity/agent/lib/esm/agent/api.d.ts:139</li></ul></aside><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h5 class="tsd-index-heading uppercase">Index</h5></summary><div class="tsd-accordion-details"><section class="tsd-index-section"><h3 class="tsd-index-heading">Properties</h3><div class="tsd-index-list"><a href="#rootkey" class="tsd-index-link tsd-is-external"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>root<wbr/>Key</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Methods</h3><div class="tsd-index-list"><a href="#getprincipal" class="tsd-index-link tsd-is-external"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Principal</span></a>
<a href="#createreadstaterequest" class="tsd-index-link tsd-is-external"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>create<wbr/>Read<wbr/>State<wbr/>Request?</span></a>
<a href="#readstate" class="tsd-index-link tsd-is-external"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>read<wbr/>State</span></a>
<a href="#call" class="tsd-index-link tsd-is-external"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>call</span></a>
<a href="#status" class="tsd-index-link tsd-is-external"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>status</span></a>
<a href="#query" class="tsd-index-link tsd-is-external"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>query</span></a>
<a href="#fetchrootkey" class="tsd-index-link tsd-is-external"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>fetch<wbr/>Root<wbr/>Key</span></a>
<a href="#invalidateidentity" class="tsd-index-link tsd-is-external"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>invalidate<wbr/>Identity?</span></a>
<a href="#replaceidentity" class="tsd-index-link tsd-is-external"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>replace<wbr/>Identity?</span></a>
</div></section></div></details></section></section><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Properties"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Properties</h2></summary><section><section class="tsd-panel tsd-member tsd-is-external"><h3 class="tsd-anchor-link" id="rootkey"><code class="tsd-tag">Readonly</code><span>root<wbr/>Key</span><a href="#rootkey" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">rootKey</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" class="tsd-signature-type external" target="_blank">Uint8Array</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ArrayBufferLike</span><span class="tsd-signature-symbol">&gt;</span></div><aside class="tsd-sources"><ul><li>Defined in node_modules/@dfinity/agent/lib/esm/agent/api.d.ts:140</li></ul></aside></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Methods</h2></summary><section><section class="tsd-panel tsd-member tsd-is-external"><h3 class="tsd-anchor-link" id="getprincipal"><span>get<wbr/>Principal</span><a href="#getprincipal" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-external"><li class="tsd-is-external"><div class="tsd-signature tsd-anchor-link" id="getprincipal-1"><span class="tsd-kind-call-signature">getPrincipal</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="tsd-signature-type external" target="_blank">Promise</a><span class="tsd-signature-symbol">&lt;</span><a href="../modules/react.types.html" class="tsd-signature-type tsd-kind-namespace">types</a><span class="tsd-signature-symbol">.</span><a href="react.types.Principal.html" class="tsd-signature-type tsd-kind-interface">Principal</a><span class="tsd-signature-symbol">&gt;</span><a href="#getprincipal-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Returns the principal ID associated with this agent (by default). It only shows
the principal of the default identity in the agent, which is the principal used
when calls don't specify it.</p>
</div><h4 class="tsd-returns-title">Returns <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="tsd-signature-type external" target="_blank">Promise</a><span class="tsd-signature-symbol">&lt;</span><a href="../modules/react.types.html" class="tsd-signature-type tsd-kind-namespace">types</a><span class="tsd-signature-symbol">.</span><a href="react.types.Principal.html" class="tsd-signature-type tsd-kind-interface">Principal</a><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in node_modules/@dfinity/agent/lib/esm/agent/api.d.ts:146</li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-external"><h3 class="tsd-anchor-link" id="createreadstaterequest"><code class="tsd-tag">Optional</code><span>create<wbr/>Read<wbr/>State<wbr/>Request</span><a href="#createreadstaterequest" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-external"><li class="tsd-is-external"><div class="tsd-signature tsd-anchor-link" id="createreadstaterequest-1"><span class="tsd-kind-call-signature">createReadStateRequest</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">:</span> <a href="../modules/react.utils.html" class="tsd-signature-type tsd-kind-namespace">utils</a><span class="tsd-signature-symbol">.</span><a href="../modules/react.utils.agent.html" class="tsd-signature-type tsd-kind-namespace">agent</a><span class="tsd-signature-symbol">.</span><a href="react.utils.agent.ReadStateOptions.html" class="tsd-signature-type tsd-kind-interface">ReadStateOptions</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">identity</span><span class="tsd-signature-symbol">?:</span> <a href="../modules/react.types.html" class="tsd-signature-type tsd-kind-namespace">types</a><span class="tsd-signature-symbol">.</span><a href="react.types.Identity.html" class="tsd-signature-type tsd-kind-interface">Identity</a><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="tsd-signature-type external" target="_blank">Promise</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span><a href="#createreadstaterequest-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Create the request for the read state call.
<code>readState</code> uses this internally.
Useful to avoid signing the same request multiple times.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">options</span>: <a href="../modules/react.utils.html" class="tsd-signature-type tsd-kind-namespace">utils</a><span class="tsd-signature-symbol">.</span><a href="../modules/react.utils.agent.html" class="tsd-signature-type tsd-kind-namespace">agent</a><span class="tsd-signature-symbol">.</span><a href="react.utils.agent.ReadStateOptions.html" class="tsd-signature-type tsd-kind-interface">ReadStateOptions</a></span></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">identity</span>: <a href="../modules/react.types.html" class="tsd-signature-type tsd-kind-namespace">types</a><span class="tsd-signature-symbol">.</span><a href="react.types.Identity.html" class="tsd-signature-type tsd-kind-interface">Identity</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="tsd-signature-type external" target="_blank">Promise</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in node_modules/@dfinity/agent/lib/esm/agent/api.d.ts:152</li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-external"><h3 class="tsd-anchor-link" id="readstate"><span>read<wbr/>State</span><a href="#readstate" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-external"><li class="tsd-is-external"><div class="tsd-signature tsd-anchor-link" id="readstate-1"><span class="tsd-kind-call-signature">readState</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">effectiveCanisterId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">|</span> <a href="../modules/react.types.html" class="tsd-signature-type tsd-kind-namespace">types</a><span class="tsd-signature-symbol">.</span><a href="react.types.Principal.html" class="tsd-signature-type tsd-kind-interface">Principal</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">:</span> <a href="../modules/react.utils.html" class="tsd-signature-type tsd-kind-namespace">utils</a><span class="tsd-signature-symbol">.</span><a href="../modules/react.utils.agent.html" class="tsd-signature-type tsd-kind-namespace">agent</a><span class="tsd-signature-symbol">.</span><a href="react.utils.agent.ReadStateOptions.html" class="tsd-signature-type tsd-kind-interface">ReadStateOptions</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">identity</span><span class="tsd-signature-symbol">?:</span> <a href="../modules/react.types.html" class="tsd-signature-type tsd-kind-namespace">types</a><span class="tsd-signature-symbol">.</span><a href="react.types.Identity.html" class="tsd-signature-type tsd-kind-interface">Identity</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">request</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="tsd-signature-type external" target="_blank">Promise</a><span class="tsd-signature-symbol">&lt;</span><a href="../modules/react.utils.html" class="tsd-signature-type tsd-kind-namespace">utils</a><span class="tsd-signature-symbol">.</span><a href="../modules/react.utils.agent.html" class="tsd-signature-type tsd-kind-namespace">agent</a><span class="tsd-signature-symbol">.</span><a href="react.utils.agent.ReadStateResponse.html" class="tsd-signature-type tsd-kind-interface">ReadStateResponse</a><span class="tsd-signature-symbol">&gt;</span><a href="#readstate-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Send a read state query to the replica. This includes a list of paths to return,
and will return a Certificate. This will only reject on communication errors,
but the certificate might contain less information than requested.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">effectiveCanisterId</span>: <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">|</span> <a href="../modules/react.types.html" class="tsd-signature-type tsd-kind-namespace">types</a><span class="tsd-signature-symbol">.</span><a href="react.types.Principal.html" class="tsd-signature-type tsd-kind-interface">Principal</a></span><div class="tsd-comment tsd-typography"><p>A Canister ID related to this call.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">options</span>: <a href="../modules/react.utils.html" class="tsd-signature-type tsd-kind-namespace">utils</a><span class="tsd-signature-symbol">.</span><a href="../modules/react.utils.agent.html" class="tsd-signature-type tsd-kind-namespace">agent</a><span class="tsd-signature-symbol">.</span><a href="react.utils.agent.ReadStateOptions.html" class="tsd-signature-type tsd-kind-interface">ReadStateOptions</a></span><div class="tsd-comment tsd-typography"><p>The options for this call.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">identity</span>: <a href="../modules/react.types.html" class="tsd-signature-type tsd-kind-namespace">types</a><span class="tsd-signature-symbol">.</span><a href="react.types.Identity.html" class="tsd-signature-type tsd-kind-interface">Identity</a></span><div class="tsd-comment tsd-typography"><p>Identity for the call. If not specified, uses the instance identity.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">request</span>: <span class="tsd-signature-type">unknown</span></span><div class="tsd-comment tsd-typography"><p>The request to send in case it has already been created.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="tsd-signature-type external" target="_blank">Promise</a><span class="tsd-signature-symbol">&lt;</span><a href="../modules/react.utils.html" class="tsd-signature-type tsd-kind-namespace">utils</a><span class="tsd-signature-symbol">.</span><a href="../modules/react.utils.agent.html" class="tsd-signature-type tsd-kind-namespace">agent</a><span class="tsd-signature-symbol">.</span><a href="react.utils.agent.ReadStateResponse.html" class="tsd-signature-type tsd-kind-interface">ReadStateResponse</a><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in node_modules/@dfinity/agent/lib/esm/agent/api.d.ts:162</li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-external"><h3 class="tsd-anchor-link" id="call"><span>call</span><a href="#call" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-external"><li class="tsd-is-external"><div class="tsd-signature tsd-anchor-link" id="call-1"><span class="tsd-kind-call-signature">call</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">canisterId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">|</span> <a href="../modules/react.types.html" class="tsd-signature-type tsd-kind-namespace">types</a><span class="tsd-signature-symbol">.</span><a href="react.types.Principal.html" class="tsd-signature-type tsd-kind-interface">Principal</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">fields</span><span class="tsd-signature-symbol">:</span> <a href="../modules/react.utils.html" class="tsd-signature-type tsd-kind-namespace">utils</a><span class="tsd-signature-symbol">.</span><a href="../modules/react.utils.agent.html" class="tsd-signature-type tsd-kind-namespace">agent</a><span class="tsd-signature-symbol">.</span><a href="react.utils.agent.CallOptions.html" class="tsd-signature-type tsd-kind-interface">CallOptions</a><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="tsd-signature-type external" target="_blank">Promise</a><span class="tsd-signature-symbol">&lt;</span><a href="../modules/react.utils.html" class="tsd-signature-type tsd-kind-namespace">utils</a><span class="tsd-signature-symbol">.</span><a href="../modules/react.utils.agent.html" class="tsd-signature-type tsd-kind-namespace">agent</a><span class="tsd-signature-symbol">.</span><a href="react.utils.agent.SubmitResponse.html" class="tsd-signature-type tsd-kind-interface">SubmitResponse</a><span class="tsd-signature-symbol">&gt;</span><a href="#call-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">canisterId</span>: <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">|</span> <a href="../modules/react.types.html" class="tsd-signature-type tsd-kind-namespace">types</a><span class="tsd-signature-symbol">.</span><a href="react.types.Principal.html" class="tsd-signature-type tsd-kind-interface">Principal</a></span></li><li><span><span class="tsd-kind-parameter">fields</span>: <a href="../modules/react.utils.html" class="tsd-signature-type tsd-kind-namespace">utils</a><span class="tsd-signature-symbol">.</span><a href="../modules/react.utils.agent.html" class="tsd-signature-type tsd-kind-namespace">agent</a><span class="tsd-signature-symbol">.</span><a href="react.utils.agent.CallOptions.html" class="tsd-signature-type tsd-kind-interface">CallOptions</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="tsd-signature-type external" target="_blank">Promise</a><span class="tsd-signature-symbol">&lt;</span><a href="../modules/react.utils.html" class="tsd-signature-type tsd-kind-namespace">utils</a><span class="tsd-signature-symbol">.</span><a href="../modules/react.utils.agent.html" class="tsd-signature-type tsd-kind-namespace">agent</a><span class="tsd-signature-symbol">.</span><a href="react.utils.agent.SubmitResponse.html" class="tsd-signature-type tsd-kind-interface">SubmitResponse</a><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in node_modules/@dfinity/agent/lib/esm/agent/api.d.ts:163</li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-external"><h3 class="tsd-anchor-link" id="status"><span>status</span><a href="#status" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-external"><li class="tsd-is-external"><div class="tsd-signature tsd-anchor-link" id="status-1"><span class="tsd-kind-call-signature">status</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="tsd-signature-type external" target="_blank">Promise</a><span class="tsd-signature-symbol">&lt;</span><a href="../modules/react.utils.html" class="tsd-signature-type tsd-kind-namespace">utils</a><span class="tsd-signature-symbol">.</span><a href="../modules/react.utils.candid.html" class="tsd-signature-type tsd-kind-namespace">candid</a><span class="tsd-signature-symbol">.</span><a href="react.utils.candid.JsonObject.html" class="tsd-signature-type tsd-kind-interface">JsonObject</a><span class="tsd-signature-symbol">&gt;</span><a href="#status-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Query the status endpoint of the replica. This normally has a few fields that
corresponds to the version of the replica, its root public key, and any other
information made public.</p>
</div><h4 class="tsd-returns-title">Returns <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="tsd-signature-type external" target="_blank">Promise</a><span class="tsd-signature-symbol">&lt;</span><a href="../modules/react.utils.html" class="tsd-signature-type tsd-kind-namespace">utils</a><span class="tsd-signature-symbol">.</span><a href="../modules/react.utils.candid.html" class="tsd-signature-type tsd-kind-namespace">candid</a><span class="tsd-signature-symbol">.</span><a href="react.utils.candid.JsonObject.html" class="tsd-signature-type tsd-kind-interface">JsonObject</a><span class="tsd-signature-symbol">&gt;</span></h4><p>A JsonObject that is essentially a record of fields from the status
endpoint.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in node_modules/@dfinity/agent/lib/esm/agent/api.d.ts:171</li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-external"><h3 class="tsd-anchor-link" id="query"><span>query</span><a href="#query" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-external"><li class="tsd-is-external"><div class="tsd-signature tsd-anchor-link" id="query-1"><span class="tsd-kind-call-signature">query</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">canisterId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">|</span> <a href="../modules/react.types.html" class="tsd-signature-type tsd-kind-namespace">types</a><span class="tsd-signature-symbol">.</span><a href="react.types.Principal.html" class="tsd-signature-type tsd-kind-interface">Principal</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">:</span> <a href="../modules/react.utils.html" class="tsd-signature-type tsd-kind-namespace">utils</a><span class="tsd-signature-symbol">.</span><a href="../modules/react.utils.agent.html" class="tsd-signature-type tsd-kind-namespace">agent</a><span class="tsd-signature-symbol">.</span><a href="react.utils.agent.QueryFields.html" class="tsd-signature-type tsd-kind-interface">QueryFields</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">identity</span><span class="tsd-signature-symbol">?:</span> <a href="../modules/react.types.html" class="tsd-signature-type tsd-kind-namespace">types</a><span class="tsd-signature-symbol">.</span><a href="react.types.Identity.html" class="tsd-signature-type tsd-kind-interface">Identity</a> <span class="tsd-signature-symbol">|</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="tsd-signature-type external" target="_blank">Promise</a><span class="tsd-signature-symbol">&lt;</span><a href="../modules/react.types.html" class="tsd-signature-type tsd-kind-namespace">types</a><span class="tsd-signature-symbol">.</span><a href="react.types.Identity.html" class="tsd-signature-type tsd-kind-interface">Identity</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="tsd-signature-type external" target="_blank">Promise</a><span class="tsd-signature-symbol">&lt;</span><a href="../modules/react.utils.html" class="tsd-signature-type tsd-kind-namespace">utils</a><span class="tsd-signature-symbol">.</span><a href="../modules/react.utils.agent.html" class="tsd-signature-type tsd-kind-namespace">agent</a><span class="tsd-signature-symbol">.</span><a href="../types/react.utils.agent.ApiQueryResponse.html" class="tsd-signature-type tsd-kind-type-alias">ApiQueryResponse</a><span class="tsd-signature-symbol">&gt;</span><a href="#query-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Send a query call to a canister. See
<a href="https://sdk.dfinity.org/docs/interface-spec/#http-query">the interface spec</a>.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">canisterId</span>: <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">|</span> <a href="../modules/react.types.html" class="tsd-signature-type tsd-kind-namespace">types</a><span class="tsd-signature-symbol">.</span><a href="react.types.Principal.html" class="tsd-signature-type tsd-kind-interface">Principal</a></span><div class="tsd-comment tsd-typography"><p>The Principal of the Canister to send the query to. Sending a query to
the management canister is not supported (as it has no meaning from an agent).</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">options</span>: <a href="../modules/react.utils.html" class="tsd-signature-type tsd-kind-namespace">utils</a><span class="tsd-signature-symbol">.</span><a href="../modules/react.utils.agent.html" class="tsd-signature-type tsd-kind-namespace">agent</a><span class="tsd-signature-symbol">.</span><a href="react.utils.agent.QueryFields.html" class="tsd-signature-type tsd-kind-interface">QueryFields</a></span><div class="tsd-comment tsd-typography"><p>Options to use to create and send the query.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">identity</span>: <a href="../modules/react.types.html" class="tsd-signature-type tsd-kind-namespace">types</a><span class="tsd-signature-symbol">.</span><a href="react.types.Identity.html" class="tsd-signature-type tsd-kind-interface">Identity</a> <span class="tsd-signature-symbol">|</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="tsd-signature-type external" target="_blank">Promise</a><span class="tsd-signature-symbol">&lt;</span><a href="../modules/react.types.html" class="tsd-signature-type tsd-kind-namespace">types</a><span class="tsd-signature-symbol">.</span><a href="react.types.Identity.html" class="tsd-signature-type tsd-kind-interface">Identity</a><span class="tsd-signature-symbol">&gt;</span></span><div class="tsd-comment tsd-typography"><p>Sender principal to use when sending the query.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="tsd-signature-type external" target="_blank">Promise</a><span class="tsd-signature-symbol">&lt;</span><a href="../modules/react.utils.html" class="tsd-signature-type tsd-kind-namespace">utils</a><span class="tsd-signature-symbol">.</span><a href="../modules/react.utils.agent.html" class="tsd-signature-type tsd-kind-namespace">agent</a><span class="tsd-signature-symbol">.</span><a href="../types/react.utils.agent.ApiQueryResponse.html" class="tsd-signature-type tsd-kind-type-alias">ApiQueryResponse</a><span class="tsd-signature-symbol">&gt;</span></h4><p>The response from the replica. The Promise will only reject when the communication
failed. If the query itself failed but no protocol errors happened, the response will
be of type QueryResponseRejected.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in node_modules/@dfinity/agent/lib/esm/agent/api.d.ts:183</li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-external"><h3 class="tsd-anchor-link" id="fetchrootkey"><span>fetch<wbr/>Root<wbr/>Key</span><a href="#fetchrootkey" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-external"><li class="tsd-is-external"><div class="tsd-signature tsd-anchor-link" id="fetchrootkey-1"><span class="tsd-kind-call-signature">fetchRootKey</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="tsd-signature-type external" target="_blank">Promise</a><span class="tsd-signature-symbol">&lt;</span><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" class="tsd-signature-type external" target="_blank">Uint8Array</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ArrayBufferLike</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><a href="#fetchrootkey-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>By default, the agent is configured to talk to the main Internet Computer,
and verifies responses using a hard-coded public key.</p>
<p>This function will instruct the agent to ask the endpoint for its public
key, and use that instead. This is required when talking to a local test
instance, for example.</p>
<p>Only use this when you are  <em>not</em> talking to the main Internet Computer,
otherwise you are prone to man-in-the-middle attacks! Do not call this
function by default.</p>
</div><h4 class="tsd-returns-title">Returns <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="tsd-signature-type external" target="_blank">Promise</a><span class="tsd-signature-symbol">&lt;</span><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" class="tsd-signature-type external" target="_blank">Uint8Array</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ArrayBufferLike</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in node_modules/@dfinity/agent/lib/esm/agent/api.d.ts:196</li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-external"><h3 class="tsd-anchor-link" id="invalidateidentity"><code class="tsd-tag">Optional</code><span>invalidate<wbr/>Identity</span><a href="#invalidateidentity" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-external"><li class="tsd-is-external"><div class="tsd-signature tsd-anchor-link" id="invalidateidentity-1"><span class="tsd-kind-call-signature">invalidateIdentity</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="#invalidateidentity-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>If an application needs to invalidate an identity under certain conditions, an <code>Agent</code> may expose an <code>invalidateIdentity</code> method.
Invoking this method will set the inner identity used by the <code>Agent</code> to <code>null</code>.</p>
<p>A use case for this would be - after a certain period of inactivity, a secure application chooses to invalidate the identity of any <code>HttpAgent</code> instances. An invalid identity can be replaced by <code>Agent.replaceIdentity</code></p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in node_modules/@dfinity/agent/lib/esm/agent/api.d.ts:203</li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member tsd-is-external"><h3 class="tsd-anchor-link" id="replaceidentity"><code class="tsd-tag">Optional</code><span>replace<wbr/>Identity</span><a href="#replaceidentity" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-external"><li class="tsd-is-external"><div class="tsd-signature tsd-anchor-link" id="replaceidentity-1"><span class="tsd-kind-call-signature">replaceIdentity</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">identity</span><span class="tsd-signature-symbol">:</span> <a href="../modules/react.types.html" class="tsd-signature-type tsd-kind-namespace">types</a><span class="tsd-signature-symbol">.</span><a href="react.types.Identity.html" class="tsd-signature-type tsd-kind-interface">Identity</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="#replaceidentity-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>If an application needs to replace an identity under certain conditions, an <code>Agent</code> may expose a <code>replaceIdentity</code> method.
Invoking this method will set the inner identity used by the <code>Agent</code> to a newly provided identity.</p>
<p>A use case for this would be - after authenticating using <code>@dfinity/auth-client</code>, you can replace the <code>AnonymousIdentity</code> of your <code>Actor</code> with a <code>DelegationIdentity</code>.</p>
<pre><code class="ts"><span class="hl-9">Actor</span><span class="hl-1">.</span><span class="hl-0">agentOf</span><span class="hl-1">(</span><span class="hl-9">defaultActor</span><span class="hl-1">).</span><span class="hl-0">replaceIdentity</span><span class="hl-1">(</span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-9">authClient</span><span class="hl-1">.</span><span class="hl-0">getIdentity</span><span class="hl-1">());</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">identity</span>: <a href="../modules/react.types.html" class="tsd-signature-type tsd-kind-namespace">types</a><span class="tsd-signature-symbol">.</span><a href="react.types.Identity.html" class="tsd-signature-type tsd-kind-interface">Identity</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in node_modules/@dfinity/agent/lib/esm/agent/api.d.ts:214</li></ul></aside></div></li></ul></section></section></details></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Properties"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Properties</summary><div><a href="#rootkey" class="tsd-is-external"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>root<wbr/>Key</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Methods</summary><div><a href="#getprincipal" class="tsd-is-external"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Principal</span></a><a href="#createreadstaterequest" class="tsd-is-external"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>create<wbr/>Read<wbr/>State<wbr/>Request</span></a><a href="#readstate" class="tsd-is-external"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>read<wbr/>State</span></a><a href="#call" class="tsd-is-external"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>call</span></a><a href="#status" class="tsd-is-external"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>status</span></a><a href="#query" class="tsd-is-external"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>query</span></a><a href="#fetchrootkey" class="tsd-is-external"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>fetch<wbr/>Root<wbr/>Key</span></a><a href="#invalidateidentity" class="tsd-is-external"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>invalidate<wbr/>Identity</span></a><a href="#replaceidentity" class="tsd-is-external"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>replace<wbr/>Identity</span></a></div></details></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://github.com/B3Pay/ic-reactor/tree/main/examples" class="tsd-nav-link">Example</a><a href="https://github.com/B3Pay/ic-reactor" class="tsd-nav-link">GitHub</a></nav><nav class="tsd-navigation"><a href="../modules.html">ic-reactor</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a><br>
            <span id="generation-date"></span>
            <script>
                window.GENERATION_DATE = 1756117521585;

                (() => {
                    
        const formatter = new Intl.RelativeTimeFormat('en', {
            numeric: 'auto',
            style: 'short',
        });

        const divisions = [
            { amount: 60, name: 'seconds' },
            { amount: 60, name: 'minutes' },
            { amount: 24, name: 'hours' },
            { amount: 7, name: 'days' },
            { amount: 4.34524, name: 'weeks' },
            { amount: 12, name: 'months' },
            { amount: Number.POSITIVE_INFINITY, name: 'years' }
        ];

        function formatTimeAgo(date) {
            let duration = (date - new Date()) / 1000;
            
            for (const division of divisions) {
                if (Math.abs(duration) < division.amount) {
                    return formatter.format(Math.round(duration), division.name);
                }
                duration /= division.amount;
            }
        }

        document.getElementById('generation-date').title = new Date(window.GENERATION_DATE).toLocaleString();
        document.getElementById('generation-date').innerText = `Last modified ${formatTimeAgo(window.GENERATION_DATE)}`;
    
                })();
            </script>
        </p></footer><div class="overlay"></div></body></html>
