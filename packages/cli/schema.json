{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "IC Reactor Configuration",
  "description": "Configuration file for @ic-reactor/cli and @ic-reactor/vite-plugin",
  "type": "object",
  "properties": {
    "$schema": {
      "type": "string",
      "description": "JSON Schema reference"
    },
    "outDir": {
      "type": "string",
      "description": "Default output directory for generated files (relative to project root)",
      "default": "src/declarations"
    },
    "clientManagerPath": {
      "type": "string",
      "description": "Default import path for the client manager (relative from generated files)",
      "default": "../../clients"
    },
    "reactor": {
      "type": "object",
      "description": "Control whether generated default hooks use raw Reactor or DisplayReactor",
      "properties": {
        "defaultMode": {
          "type": "string",
          "enum": ["raw", "display"],
          "description": "Global default reactor mode for generated hooks",
          "default": "display"
        },
        "canisters": {
          "type": "object",
          "description": "Per-canister reactor mode overrides keyed by canister name",
          "additionalProperties": {
            "type": "string",
            "enum": ["raw", "display"]
          }
        }
      },
      "additionalProperties": false
    },
    "canisters": {
      "type": "object",
      "description": "Canister configurations",
      "additionalProperties": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Canister name (required)"
          },
          "didFile": {
            "type": "string",
            "description": "Path to the .did file (required)"
          },
          "outDir": {
            "type": "string",
            "description": "Override output directory for this canister"
          },
          "clientManagerPath": {
            "type": "string",
            "description": "Override client manager import path for this canister"
          },
          "canisterId": {
            "type": "string",
            "description": "Optional fixed canister ID"
          }
        },
        "required": ["name", "didFile"]
      }
    }
  },
  "required": ["outDir", "canisters"]
}
