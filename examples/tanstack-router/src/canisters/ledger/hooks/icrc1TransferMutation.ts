/**
 * Mutation Hook: icrc1_transfer
 *
 * Auto-generated by @ic-reactor/cli
 * This hook wraps the icrc1_transfer update method.
 *
 * @example
 * // Use the hook in a component
 * const { mutate, isPending } = useIcrc1TransferMutation()
 *
 * // Call the mutation
 * mutate([arg1, arg2])
 *
 * // Or execute directly
 * const result = await executeIcrc1Transfer([arg1, arg2])
 */

import { createMutation } from "@ic-reactor/react"
import { ledgerReactor } from "../reactor"

// ═══════════════════════════════════════════════════════════════════════════
// MUTATION INSTANCE
// ═══════════════════════════════════════════════════════════════════════════

/**
 * Mutation for icrc1_transfer
 *
 * Provides:
 * - .useMutation() - React hook
 * - .execute() - Direct execution
 */
export const icrc1TransferMutation = createMutation(ledgerReactor, {
  functionName: "icrc1_transfer",
  // ─────────────────────────────────────────────────────────────────────────
  // INVALIDATION
  // ─────────────────────────────────────────────────────────────────────────
  // Uncomment and import query keys to auto-invalidate on success:
  // invalidateQueries: [
  //   someQuery.getQueryKey(),
  // ],

  // ─────────────────────────────────────────────────────────────────────────
  // SUCCESS HANDLER
  // ─────────────────────────────────────────────────────────────────────────
  // onSuccess: (data, variables, context) => {
  //   console.log("icrc1_transfer succeeded:", data)
  // },

  // ─────────────────────────────────────────────────────────────────────────
  // ERROR HANDLERS
  // ─────────────────────────────────────────────────────────────────────────
  // Handle canister-level errors (from Result { Err })
  // onCanisterError: (error, variables) => {
  //   console.error("Canister error:", error)
  // },

  // Handle all errors (network, canister, etc.)
  onError: (error, variables, context) => {
    console.error("Error:", error)
  },
})

// ═══════════════════════════════════════════════════════════════════════════
// CONVENIENCE EXPORTS
// ═══════════════════════════════════════════════════════════════════════════

/**
 * React hook for icrc1_transfer
 *
 * @param options - Mutation options (onSuccess, onError, etc.)
 */
export const useIcrc1TransferMutation = icrc1TransferMutation.useMutation

/**
 * Execute icrc1_transfer directly (outside of React)
 *
 * @param args - Arguments to pass to the canister method
 */
export const executeIcrc1Transfer = icrc1TransferMutation.execute
